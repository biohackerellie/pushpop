# name: Release
# on:
#   push:
#     branches:
#       - main
# permissions:
#    contents: write 
#    packages: write 
# jobs:
#   tag:
#     if: ${{ github.actor == 'biohackerellie'}}
#     permissions:
#       contents: write
#     runs-on: ubuntu-latest
#     strategy:
#       matrix:
#         node-version: 
#         - 22
#     steps: 
#     - uses: actions/checkout@v4
#       with:
#         fetch-depth: 0
#     - name: AutoTag
#       uses: biohackerellie/auto-git-tag@v1
#       with:
#         github_token: ${{ secrets.GITHUB_TOKEN }}
#         release_branch: 'main'  
#   release:
#     if: ${{ github.actor == 'biohackerellie'}}
#     runs-on: ubuntu-latest
#     needs: tag
#     permissions:
#       contents: write
#       id-token: write
#       packages: write
#     steps:
#       - uses: actions/checkout@v4
#         with:
#           fetch-depth: 0 
#       - uses: actions/setup-go@v5
#         with:
#           go-version: stable
#           cache: true
#           check-latest: true
#       - uses: ./.github/actions/setup
#       - name: Build Typescript
#         run: pnpm build

#       - name: Create Version
#         id: changesets
#         uses: changesets/action@v1
#         with:
#           version: node .github/changeset-version.js
#           publish: npx changeset publish
#           createGithubReleases: false
#         env:
#           GITHUB_TOKEN: ${{secrets.GITHUB_TOKEN}}
#           NPM_TOKEN: ${{secrets.NPM_TOKEN}}
#           NODE_ENV: "production"
#       - uses: goreleaser/goreleaser-action@v6 
#         with:
#           args: release --clean
#           version: ${{ env.GITHUB_REF_NAME }}
#         env:
#           GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
